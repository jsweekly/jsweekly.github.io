<!doctype html><div style="max-width: 700px;font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;padding: 50px;line-height: 1.25;"><meta charset="UTF8"/><title>Getting Started with React and JSX</title><h1>Getting Started with React and JSX</h1><p><a href="http://www.sitepoint.com/getting-started-react-jsx/?">Original Article</a> &middot; <a href="#articleList">Articles in this issue</a> </p><div><section class="article_body">

            <p>React is an open source library for building user interfaces. It lets you create views easily while making sure your UI stays in sync with the underlying data model. This article, targeted towards beginners, covers the basics of React and JSX syntax.</p>
<h2 id="getting-started-with-react">Getting Started with React</h2>
<p>To get started, head over to the official React official website and download the <a href="http://facebook.github.io/react/docs/getting-started.html">React starter kit</a>. It contains all the files you need to get started.</p>
<p>Once you have download the <code>.zip</code>, extract it to a location on your machine. You will see a directory named <code>React-&lt;version&gt;</code>. On my machine the name of the directory is <code>react-0.12.0</code>. Open it and go to the <code>build</code> directory. We are going to need the following two files:</p>
<ol>
<li><code>JSXTransformer.js</code> &#x2013; Lets you create JavaScript objects through simple HTML.</li>
<li><code>react.js</code> &#x2013; The core React library.</li>
</ol>
<p>Let&#x2019;s create a file named <code>index.html</code> inside the directory <code>react-&lt;version&gt;</code> and add the following snippet:</p>
<pre class="brush: xml; title: ; notranslate" title="">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;My First React Example&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="greeting-div"&gt;&lt;/div&gt;
    &lt;script src="build/react.js"&gt;&lt;/script&gt;
    &lt;script src="build/JSXTransformer.js"&gt;&lt;/script&gt;
    &lt;script type="text/jsx"&gt;
      var Greeting = React.createClass({
        render: function() {
          return (
            &lt;p&gt;Hello, Universe&lt;/p&gt;
          )
        }
      });
      React.render(
        &lt;Greeting/&gt;,
        document.getElementById('greeting-div')
      );
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>The above snippet prints <code>Hello, Universe</code> on the UI. You should note the following points:</p>
<ol>
<li>React follows component oriented development. The general idea is to break your whole UI into a set of components. In our case we have just one component named <code>Greeting</code>. In React, you create a component by calling <code>React.createClass()</code>. Every component has a <code>render()</code> method which returns markup to render. In the above snippet we simply returned <code>&lt;p&gt;Hello, Universe&lt;/p&gt;</code>, which is then displayed in the view. </li>
<li>A component doesn&#x2019;t do anything until it&#x2019;s rendered. To render a component you call <code>React.render()</code> with the component to render as the first argument. The second argument is the HTML element where you would like to render your component. In our case we render our <code>Greeting</code> component into <code>div#greeting-div</code> .</li>
<li>You might be wondering what <code>&lt;Greeting/&gt;</code> really is? This syntax is known as JSX (JavaScript XML) which lets you build DOM nodes with HTML-like syntax. However, JSX is completely optional and you don&#x2019;t need it in order to use React. But it has a lot of nice features and there is no reason not to take advantage of it.</li>
<li>Since the browser doesn&#x2019;t understand JSX natively, we need to transform it to JavaScript first. This is handled by including the following script:</li>
</ol>
<pre class="brush: xml; title: ; notranslate" title="">
&lt;script src="build/JSXTransformer.js"&gt;&lt;/script&gt;
</pre>
<p>This script looks for JSX code in <code>&lt;script type="text/jsx"&gt;&lt;/script&gt;</code> tags and transforms them into JavaScript on the fly. Transforming JSX in the browser works quite well during development. However, you need to pre-compile your JSX code into JS before deploying into production so that your app renders faster. We will see how to do that later on.</p>
<p>Now you can spin up a server and see the message <code>Hello, Universe</code> on the UI. Note, if you are on Mac, you can start a server by running the following command from the project&#x2019;s root directory:</p>
<pre class="brush: plain; title: ; notranslate" title="">
python -m SimpleHTTPServer 8000
</pre>
<h2 id="introducing-props">Introducing <code>props</code></h2>
<p>React relies on unidirectional data flow. This means that data flow occurs in only one direction i.e. from parent to child via properties. These properties are passed to child components via attributes in JSX. Inside the component you can access the passed properties via the <code>props</code> object. When the properties change, React makes sure to re-render your component so that your UI is up-to-date with the data model. So, let&#x2019;s modify the previous snippet to show a random message every two seconds. For the sake of brevity only the <code>script</code> portion is shown.</p>
<pre class="brush: xml; title: ; notranslate" title="">
&lt;script type="text/jsx"&gt;
  var Greeting = React.createClass({
    render: function() {
      return (
        &lt;p&gt;{this.props.message}&lt;/p&gt;
      )
    }
  });
  setInterval(function() {
    var messages = ['Hello, World', 'Hello, Planet', 'Hello, Universe']
    var randomMessage = messages[Math.floor((Math.random() * 3))] 

    React.render(
      &lt;Greeting message={randomMessage}/&gt;,
      document.getElementById('greeting-div')
    )
  }, 2000); 
&lt;/script&gt;
</pre>
<p>The above code chooses a random message from an array and re-renders our component every two seconds. The chosen message is passed as a property called <code>message</code>. You also need to use pair of curly braces <code>{}</code> to pass the variable. Now inside the <code>Greeting</code> component, we access the passed <code>message</code> via <code>this.props.message</code>.</p>
<p>If you run the above snippet, it will display a random message every two seconds (assuming a different message is chosen each time).</p>
<p>Just note that the passed <code>props</code> are immutable types. You just pass various properties to a component via <code>props</code>. Inside the component you never write to <code>this.props</code>. This keeps data flow unidirectional and it&#x2019;s easier to understand how the data change affects the whole application.</p>
<h2 id="introducing-state-and-events">Introducing <code>state</code> and <code>events</code></h2>
<p>In React each component is well encapsulated and maintains its own state (if stateful). A stateful component can store a value in its state and pass it to its child components via <code>props</code>. This ensures that whenever a component&#x2019;s state changes, the <code>props</code> also change. As a result the child components that depend on these <code>props</code> re-render themselves automatically. </p>
<p>To reinforce this concept let&#x2019;s modify our previous snippet so that a random message is displayed when a button is clicked. For this we will have two components:</p>
<ol>
<li><code>RandomMessage</code>: This is the parent component which maintains a randomly chosen message in its state.</li>
<li><code>MessageView</code>: This is a child component which deals with displaying the randomly selected message. </li>
</ol>
<p>Let&#x2019;s take a look at each component in detail.</p>
<p><strong>RandomMessage</strong></p>
<pre class="brush: jscript; title: ; notranslate" title="">
var RandomMessage = React.createClass({
  getInitialState: function() {
    return {message: 'Hello, Universe'};
  },
  _onClick: function() {
    var messages = ['Hello, World', 'Hello, Planet', 'Hello, Universe'];
    var randomMessage = messages[Math.floor((Math.random() * 3))];

    this.setState({message: randomMessage});
  },
  render: function() {
    return (
      &lt;div&gt;
        &lt;MessageView message={this.state.message}/&gt;
        &lt;p&gt;&lt;input type="button" onClick={this._onclick} value="Change Message"/&gt;&lt;/p&gt;
      &lt;/div&gt;
    )
  }
});
</pre>
<p>Our component <code>RandomMessage</code> maintains a <code>message</code> in its state. Every React component has a <code>getInitialState()</code> function which sets the initial state of the component. In our case we initialize our state <code>message</code> with the value <code>Hello, Universe</code>.</p>
<p>Next, we need to display a button which, when clicked, updates the state <code>message</code> with a new value. The following is the markup returned by our component:</p>
<pre class="brush: xml; title: ; notranslate" title="">
&lt;div&gt;
  &lt;MessageView message={this.state.message}/&gt;
  &lt;p&gt;&lt;input type="button" onClick={this._onClick} value="Change Message"/&gt;&lt;/p&gt;
&lt;/div&gt;
</pre>
<p>As you can see, this component renders another component, <code>MessageView</code>, and an input button. Do note that the component&#x2019;s state <code>message</code> is passed to the child component via a property. Our component also handles <code>click</code> event on the button by attaching an event listener, <code>this._onClick</code>. Pay attention to camel case in <code>onClick</code>. In HTML the event names are written in lowercase i.e. <code>onclick</code>. But, in JSX you need to use camel case for event names.</p>
<p>Our <code>click</code> event handler chooses a random message and updates the component&#x2019;s state by calling:</p>
<pre class="brush: jscript; title: ; notranslate" title="">
this.setState({message:randomMessage})
</pre>
<p><code>setState()</code> is a way to inform React about a data change. This method updates the current state of the component and re-renders it. As a result the passed <code>props</code> are also recomputed and the child components which depend on these props also re-render themselves.</p>
<p><strong>MessageView</strong></p>
<pre class="brush: jscript; title: ; notranslate" title="">
var MessageView = React.createClass({
  render: function() {
    return (
      &lt;p&gt;{this.props.message}&lt;/p&gt;
    )
  }
});
</pre>
<p>This component just displays the passed property <code>message</code> on the UI. You should note that this is a stateless component and is rendered by the stateful component <code>RandomMessage</code>.</p>
<p>Now that we have created the required components, it&#x2019;s time to render the top level component <code>RandomMessage</code>. This is done as following:</p>
<pre class="brush: jscript; title: ; notranslate" title="">
React.render(
  &lt;RandomMessage /&gt;,
  document.getElementById('greeting-div')
);
</pre>
<p>Thats&#x2019;s it! Each time you click on the button you will see a different message.</p>
<h2 id="keeping-jsx-separately">Keeping JSX Separately</h2>
<p>Until now we have been writing JSX inside <code>script</code> tags in HTML. To keep your app structured you should keep each component in its own <code>.jsx</code> file. So, we can put the above snippet in a file called <code>random-message.jsx</code> and include it in HTML as shown below:</p>
<pre class="brush: xml; title: ; notranslate" title="">
&lt;script type="text/jsx" src="random-message.jsx"&gt;&lt;/script&gt;
</pre>
<p>So, the new HTML markup is:</p>
<pre class="brush: xml; title: ; notranslate" title="">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;My First React Example&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="greeting-div"&gt;&lt;/div&gt;
    &lt;script src="build/react.js"&gt;&lt;/script&gt;
    &lt;script src="build/JSXTransformer.js"&gt;&lt;/script&gt;
    &lt;script type="text/jsx" src="src/random-message.jsx"&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre>
<h2 id="precompiling-jsx">Precompiling JSX</h2>
<p>As I mentioned earlier, it&#x2019;s a good practice to precompile JSX for production usage. To do so you can download a node module called <code>react-tools</code> using the command <code>npm install react-tools -g</code>. This tool can continuously watch your JSX files for changes and compile them into JavaScript. This can be done by running the following command:</p>
<pre class="brush: plain; title: ; notranslate" title="">
jsx   --watch   src/    out/
</pre>
<p>If you do this you don&#x2019;t need to include <code>JSXTransformer.js</code> in your HTML anymore. Rather you should directly include the compiled JavaScript in your markup.</p>
<h2 id="a-note-on-virtual-dom">A Note on Virtual DOM</h2>
<p>React is very fast because of a technique called virtual DOM. It maintains a fast in-memory representation of the DOM and never directly talks to the real DOM. A component&#x2019;s <code>render()</code> function tells React how the DOM should look like at a given time. You have seen me returning React components and HTML elements from components&#x2019; <code>render()</code> function. But that doesn&#x2019;t produce a real DOM! Rather it&#x2019;s just a description of the DOM. React computes the diff between this description and the in-memory DOM representation to compute the fastest way to update the browser.</p>
<h2 id="further-learning">Further Learning</h2>
<p>This article provided an overview of React and JSX. Apart from being a rich view technology, React has many other benefits. I wrote an article on my blog highlighting the useful features of React. You can check it out <a href="http://www.htmlxprs.com/post/17/10-reasons-to-use-react-in-your-next-project">here</a>.</p>
<p>If you want more information on JSX you can check out <a href="http://facebook.github.io/react/docs/jsx-in-depth.html">this</a> official resource. If you want to go ahead and learn something advanced you can read my previous tutorial <a href="http://www.sitepoint.com/creating-note-taking-app-react-flux/">Creating a Note Taking App with React and Flux</a>.</p>
<p>Thanks for reading. If you have any questions do let me know in comments.</p>

        </section>

        </div><hr/><section id="articleList" style="font-size: 14px;"><b>Articles in This Issue</b><ul><li><a href="./Understanding ECMAScript 6.html">Understanding ECMAScript 6</a></li><li><a href="./Getting Started with React and JSX.html">Getting Started with React and JSX</a></li><li><a href="./Regulex：A JavaScript Regular Expression Visualizer.html">Regulex：A JavaScript Regular Expression Visualizer</a></li><li><a href="./What's in a Function Name?.html">What's in a Function Name?</a></li><li><a href="./The Difference Between Java and JavaScript (in comic book form).html">The Difference Between Java and JavaScript (in comic book form)</a></li><li><a href="./PowerArray: The JavaScript Array with Boosted Performance.html">PowerArray: The JavaScript Array with Boosted Performance</a></li><li><a href="./Frontend Javascript-Angular developer at Contentful (Berlin, Germany).html">Frontend Javascript/Angular developer at Contentful (Berlin, Germany)</a></li><li><a href="./JavaScript Devs in High Demand (SF, LA, NY, ORD, BOS).html">JavaScript Devs in High Demand (SF, LA, NY, ORD, BOS)</a></li><li><a href="./Yahoo Mail Moving to Node and React + Flux (slide-deck).html">Yahoo Mail Moving to Node and React + Flux (slide-deck)</a></li><li><a href="./ShirtJS: JavaScript Framework Themed Clothing.html">ShirtJS: JavaScript Framework Themed Clothing</a></li><li><a href="./This Dashcam Simulation Is Just 1K Of JavaScript Magic.html">This Dashcam Simulation Is Just 1K Of JavaScript Magic</a></li><li><a href="./A Beginner's Guide to Grunt: Redux.html">A Beginner's Guide to Grunt: Redux</a></li><li><a href="./An Overview of Functional Techniques (for non FPers) using JavaScript.html">An Overview of Functional Techniques (for non FPers) using JavaScript</a></li><li><a href="./A Faster Start with Backbone.js.html">A Faster Start with Backbone.js</a></li><li><a href="./Tracking Pageviews with Google Analytics and Angular.html">Tracking Pageviews with Google Analytics and Angular</a></li><li><a href="./Understanding JavaScript Generators.html">Understanding JavaScript Generators</a></li><li><a href="./Ten Talks from NodeConf One-Shot Budapest.html">Ten Talks from NodeConf One-Shot Budapest</a></li><li><a href="./Build Production Ready JavaScript Apps With Grunt.html">Build Production Ready JavaScript Apps With Grunt</a></li><li><a href="./Adopting AngularJS for Enterprise Software.html">Adopting AngularJS for Enterprise Software</a></li><li><a href="./The Road to Ember 2.0 with Tom Dale and Yehuda Katz.html">The Road to Ember 2.0 with Tom Dale and Yehuda Katz</a></li><li><a href="./Resources for JavaScript and DOM Compatibility Tables.html">Resources for JavaScript and DOM Compatibility Tables</a></li><li><a href="./Node.js Tools for Visual Studio 1.0 Release Candidate.html">Node.js Tools for Visual Studio 1.0 Release Candidate</a></li><li><a href="./Handsontable: JavaScript Excel-like Data Grid Editor.html">Handsontable: JavaScript Excel-like Data Grid Editor</a></li><li><a href="./SVG Morpheus: JS Library for Morphing Between SVG Icons.html">SVG Morpheus: JS Library for Morphing Between SVG Icons</a></li><li><a href="./Tubemaps: Browser and Node Library and Command-Line Tool for Handling (London) Tube Data.html">Tubemaps: Browser and Node Library and Command-Line Tool for Handling (London) Tube Data</a></li><li><a href="./SmartUnderline: Better Looking Underlines on the Web.html">SmartUnderline: Better Looking Underlines on the Web</a></li><li><a href="./QuaggaJS: An Advanced Barcode-Reader Written in JavaScript.html">QuaggaJS: An Advanced Barcode-Reader Written in JavaScript</a></li><li><a href="./Jss: Dynamic Stylesheets for Web Components.html">Jss: Dynamic Stylesheets for Web Components</a></li></ul></section></div>