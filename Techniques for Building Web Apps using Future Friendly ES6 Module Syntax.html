<!doctype html><div style="max-width: 700px;font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;padding: 50px;line-height: 1.25;background: #f9f9f9;"><meta charset="UTF8"/><title>Techniques for Building Web Apps using Future Friendly ES6 Module Syntax</title><h1>Techniques for Building Web Apps using Future Friendly ES6 Module Syntax</h1><p><a href="https://medium.com/@brianleroux/es6-modules-amd-and-commonjs-c1acefbe6fc0?">Original Article</a> &middot; <a href="#articleList">Articles in this issue</a> </p><div><div class="section-inner layoutSingleColumn"><figure name="b438" class="graf--figure graf--first"><a id="b438"></a><div class="aspectRatioPlaceholder is-locked"><img class="graf-image" src="https://d262ilb51hltx0.cloudfront.net/max/800/1*1_4vyYCWNlZKsnd2AbcVvA.gif"></div></figure><p name="624d" class="graf--p"><a id="624d"></a>This article shares some techniques and tools for building web apps using future friendly ES6 module syntax. We begin with an exploration of current module formats and ways to work both forwards and backwards in time. <a target="_blank" href="https://github.com/brianleroux/echo-string" class="markup--anchor markup--p-anchor" rel="nofollow">The complete code for this article can be found here.</a></p><blockquote name="faa2" class="graf--pullquote pullquote"><a id="faa2"></a>For many years JS had a single widely accepted module format, which is to say, <strong class="markup--strong markup--pullquote-strong"><em class="markup--em markup--pullquote-em">there was none</em></strong><em class="markup--em markup--pullquote-em">.</em> Everything was a global variable petulantly hanging off the window object. This invited risky propositions, too sweet to ignore, and some of us began monkey patching built in objects. <strong class="markup--strong markup--pullquote-strong">Chaos prevailed.</strong> We had run amuck. <strong class="markup--strong markup--pullquote-strong">The JS of that era was nightmarish, intertwined, lacking order and utterly without remorse.</strong></blockquote><p name="75b5" class="graf--p"><a id="75b5"></a>Long ago an adhoc group formed first time to solve the global conflict. The fruits of this vigilante justice are known today as <a target="_blank" href="http://wiki.commonjs.org/wiki/CommonJS" class="markup--anchor markup--p-anchor" rel="nofollow">CommonJS</a>. Multiple competing formats were proposed and implemented in the wild by these dashing radicals and two bright lights emerged with significant adherents: <strong class="markup--strong markup--p-strong">AMD</strong> and <strong class="markup--strong markup--p-strong">CJS</strong>.</p><p name="bc9b" class="graf--p"><a id="bc9b"></a><strong class="markup--strong markup--p-strong">Asynchronous Module Design</strong> (AMD) accounts for the async nature of JS but some felt the aesthetics were harder to read with a wrapper function.</p><p name="baa6" class="graf--p"><a id="baa6"></a><strong class="markup--strong markup--p-strong">CommonJS</strong> (CJS) is synchronous, thus blocking, but a generally understood to be an easier read.</p><figure name="6451" class="graf--figure graf--iframe"><a id="6451"></a></figure><p name="ce7b" class="graf--p"><a id="ce7b"></a>Node famously chose CJS but the browser adherents flocked to AMD due to the nonblocking nature and dynamic friendly loading. Some view these technologies at odds, but together they prevailed and JS code became clear, easier to consume and compose. <strong class="markup--strong markup--p-strong">Chaos had been delayed by these twin forces of good.</strong></p><p name="dfcc" class="graf--p"><a id="dfcc"></a>At this point in time, Dec 2014, no module format actually matters <strong class="markup--strong markup--p-strong">if the developer is willing to pay for a build step</strong> that re-compiles the packages into a runtime source. We even retain debugging properties with sourcemaps. Dramatic scenarios staging<strong class="markup--strong markup--p-strong"> CJS versus AMD </strong>end<strong class="markup--strong markup--p-strong"> </strong>with the uninteresting conclusion being: &#x201C;it depends on your project needs&#x201D;.</p><p name="a685" class="graf--p"><a id="a685"></a>While the primitive chaos of globals were being held back by the medieval outlaws of CJS and AMD a rational order of JavaScript vendors and concerned citizens began formally standardizing modules into the language proper.</p><p name="7c71" class="graf--p"><a id="7c71"></a>JS is often called JavaScript but is more correctly referred to as ECMAScript (ES) as it is the <a target="_blank" href="https://people.mozilla.org/~jorendorff/es6-draft.html" class="markup--anchor markup--p-anchor" rel="nofollow">ECMA-262 standard</a>. After years of thrashing, a standard module format has <em class="markup--em markup--p-em">finally</em> emerged with ES version 6 (ES6).</p><p name="1c4c" class="graf--p"><a id="1c4c"></a><strong class="markup--strong markup--p-strong">Some people &#x2764; ES6 modules and some not-so-much. </strong>But as usual, neither camp actually matters: ES6 modules <em class="markup--em markup--p-em">are happening</em> and you can anticipate adoption. Great news: <strong class="markup--strong markup--p-strong">you can start now </strong>and <strong class="markup--strong markup--p-strong">compile to any module format</strong> of your choosing.</p><p name="7aba" class="graf--p"><a id="7aba"></a>I&#x2019;m going to author an ES module using <strong class="markup--strong markup--p-strong">package.json</strong> for manifest. We&#x2019;ll use NodeJS and its package manager <strong class="markup--strong markup--p-strong">npm</strong> to as our tool of choice for constructing the example.</p><p name="9cd6" class="graf--p"><a id="9cd6"></a>This assumes you have <a target="_blank" href="http://nodejs.org/" class="markup--anchor markup--p-anchor" rel="nofollow">Node</a> installed and BASH friendly shell. Open up your terminal and enter the following commands:</p><figure name="62bd" class="graf--figure graf--iframe"><a id="62bd"></a><figcaption class="imageCaption">https://gist.github.com/brianleroux/b9cced91d3102d6f2b83</figcaption></figure><figure name="2766" class="graf--figure postField--insetLeftImage"><a id="2766"></a><div class="aspectRatioPlaceholder is-locked"><img class="graf-image" src="https://d262ilb51hltx0.cloudfront.net/max/600/1*XTlfWceYTk64BleKghVk1A.png"></div><figcaption class="imageCaption">Our package is just a simple directory with plain text files.</figcaption></figure><p name="a0ab" class="graf--p"><a id="a0ab"></a>You end up with a very easy-to-reason-about package structure composed of plain directories and plain text files. No special editors or tools needed.</p><p name="0f19" class="graf--p"><a id="0f19"></a>Our next step is to write some code, and setup the 6to5 compiler. Lets start with a simple echoing function writ in basic ES.</p><figure name="9527" class="graf--figure graf--iframe postField--insetLeftImage"><a id="9527"></a><figcaption class="imageCaption"><a target="_blank" href="https://gist.github.com/brianleroux/b4f7d9c963bd79db1ef9" class="markup--anchor markup--figure-anchor" rel="nofollow">https://gist.github.com/brianleroux/b4f7d9c963bd79db1ef9</a></figcaption></figure><p name="b8a3" class="graf--p"><a id="b8a3"></a>The shiny new ES syntax really surfaces the hidden beauty of JS. (I couldn&#x2019;t be happier about this.) <strong class="markup--strong markup--p-strong">Like a butterfly it emerges from the cocoon of browser stagnation with poignant lucidity.</strong> If ES6 syntax freaks you out <a target="_blank" href="http://espadrine.github.io/New-In-A-Spec/es6/" class="markup--anchor markup--p-anchor" rel="nofollow">read this one pager</a>. The quick explanation, we define a function called <strong class="markup--strong markup--p-strong">echo</strong> that accepts one parameter (called <strong class="markup--strong markup--p-strong">value)</strong>, we return it concatenated with a string (thus casting it toString). We then export that function as the module default.</p><p name="7245" class="graf--p"><a id="7245"></a><strong class="markup--strong markup--p-strong">That&#x2019;s it.</strong> (If you want a more complex <a target="_blank" href="https://github.com/brianleroux/add-log" class="markup--anchor markup--p-anchor" rel="nofollow">example showing import&#x2019;ing dependencies local and from npm have a look here</a>.)</p><figure name="948e" class="graf--figure graf--iframe"><a id="948e"></a><figcaption class="imageCaption"><a target="_blank" href="https://gist.github.com/brianleroux/d66ac6c070cff500d3d0" class="markup--anchor markup--figure-anchor" rel="nofollow">https://gist.github.com/brianleroux/d66ac6c070cff500d3d0</a></figcaption></figure><p name="1463" class="graf--p"><a id="1463"></a>Right now most JavaScript runtimes are still mostly ES5 based so we are going to <strong class="markup--strong markup--p-strong">compile our ES6 source code back to ES5 so it runs everywhere</strong>. In the future, we&#x2019;ll be able to remove this step. Yay!</p><p name="17cc" class="graf--p"><a id="17cc"></a>I set up the compilation in my <strong class="markup--strong markup--p-strong">package.json</strong> file as an npm script under the key compile. I&#x2019;m using <a target="_blank" href="http://6to5.github.io/" class="markup--anchor markup--p-anchor" rel="nofollow">6to5</a>, for reasons I&#x2019;ll describe more below, but keep in mind there&#x2019;s many tools that do this. From my terminal I can now invoke <strong class="markup--strong markup--p-strong">npm run compile</strong> and it will produce valid ES5 code in my project <strong class="markup--strong markup--p-strong">./dist</strong> directory. The npm packager is super smart and will use the locally installed 6to5 in node_modules.</p><blockquote name="7338" class="graf--blockquote"><a id="7338"></a>Many modules, 6to5 and Traceur included, encourage you to globally install them. This is a fragile practice as you might have multiple projects with dependencies on different versions of the same module. <strong class="markup--strong markup--blockquote-strong">Rule of thumb: do not install Node packages globally if you can reasonably avoid it.</strong> You can almost always reasonably avoid it.</blockquote><p name="5aa9" class="graf--p"><a id="5aa9"></a>Test libraries come in many shapes and sizes. I happen to enjoy <a target="_blank" href="http://npmjs.org/package/tape" class="markup--anchor markup--p-anchor" rel="nofollow">Tape</a> but you may have found happiness elsewhere. That&#x2019;s cool. <a target="_blank" href="https://github.com/brianleroux/echo-string" class="markup--anchor markup--p-anchor" rel="nofollow">You can view the whole source of this ES6 echo module on my Github.</a> Clone the repo, run <strong class="markup--strong markup--p-strong">npm i </strong>to get the dependencies and finally <strong class="markup--strong markup--p-strong">npm test</strong> to check out the results.</p><p name="b00d" class="graf--p"><a id="b00d"></a>For fun, I wrote the tests as ES6 JavaScript.</p><figure name="dcb9" class="graf--figure graf--iframe"><a id="dcb9"></a></figure><p name="ad2c" class="graf--p"><a id="ad2c"></a>We import the tape modules and our own echo function using a relative path to <strong class="markup--strong markup--p-strong">package.json</strong>. The fat arrow <strong class="markup--strong markup--p-strong">=&gt;</strong> is just a shortcut for the word function. Otherwise this is the regular JS you are accustomed to. To run the tests, we issue the command: <strong class="markup--strong markup--p-strong">npm test. </strong>The script uses <strong class="markup--strong markup--p-strong">6to5-node </strong>to automatically evaluate and execute the ES6 authored source. Note the &#x2018;main&#x2019; key in package.json points to the compiled source in dist. Any modules including this module will use that path.</p><figure name="6b21" class="graf--figure graf--iframe"><a id="6b21"></a></figure><figure name="e422" class="graf--figure"><a id="e422"></a><div class="aspectRatioPlaceholder is-locked"><img class="graf-image" src="https://d262ilb51hltx0.cloudfront.net/max/800/1*ICELMLBj5MIUjTNUNTvx-Q.png"></div><figcaption class="imageCaption">Testing a module has become a very low barrier!</figcaption></figure><p name="1c05" class="graf--p"><a id="1c05"></a>Let&#x2019;s get this running in the browser. Before we test in a browser we&#x2019;ll need to compile our source code for the browser runtime. This will be two steps: first we compile to ES5 and then we need to make the Node CJS module system browser compatible.</p><p name="5280" class="graf--p"><a id="5280"></a>We&#x2019;ll be using <a target="_blank" href="http://browserify.org/" class="markup--anchor markup--p-anchor" rel="nofollow">Browserify</a>. Our <a target="_blank" href="https://github.com/brianleroux/echo-string/blob/master/package.json#L18-L20" class="markup--anchor markup--p-anchor" rel="nofollow">build script gets updated to compile the tests to ES5, then compile the ES5 source for the browser.</a> But we need a webpage to view this in! Here&#x2019;s the one I added in <strong class="markup--strong markup--p-strong">test/index.html</strong>:</p><figure name="6967" class="graf--figure graf--iframe"><a id="6967"></a></figure><p name="8824" class="graf--p"><a id="8824"></a>Note: we include the generated <strong class="markup--strong markup--p-strong">test-echo-browser.js</strong> script just below a div with the <strong class="markup--strong markup--p-strong">id=&#x201D;out&#x201D; (</strong>line 8). We&#x2019;ll use that div to display the output of our tests.</p><p name="53de" class="graf--p"><a id="53de"></a>To see those results we&#x2019;ll <strong class="markup--strong markup--p-strong">npm i browserify-tape-spec &#x2014;save-dev</strong> and import (line 3) the module and then use it at the bottom of our tests (line 21). If we&#x2019;re running in the browser: pipe the results through our reporter and into that div.</p><figure name="f124" class="graf--figure graf--iframe"><a id="f124"></a></figure><p name="f967" class="graf--p"><a id="f967"></a>This is low effort for a test rig. You can wire up Travis and Sauce Labs for maximal continuous integration should the module warrant it. We can add this stuff with time, there is no need to roll out the red carpet for an echo function.</p><figure name="21d4" class="graf--figure postField--insetLeftImage"><a id="21d4"></a><div class="aspectRatioPlaceholder is-locked"><img class="graf-image" src="https://d262ilb51hltx0.cloudfront.net/max/600/1*ek85A-Hc7_y6DrJb-BS9bQ.png"></div><figcaption class="imageCaption">Test output in Firefox Developer Edition</figcaption></figure><p name="848a" class="graf--p"><a id="848a"></a>Sourcemaps to the rescue! Most compilers have an option for generating sourcemaps. Open the project in your dev tools of choice, you&#x2019;ll see the futuristic flavored ES6 source, not the compiled ES5 source. Step debug will fully work.</p><p name="7aa1" class="graf--p"><a id="7aa1"></a>Code isn&#x2019;t any fun if it only works on your machine. You need to ship it! Ship it real good. I hate myself for writing that.</p><p name="86f4" class="graf--p"><a id="86f4"></a>Most open source projects find themselves on Github. I add source code only and<a target="_blank" href="https://github.com/brianleroux/echo-string/blob/master/.gitignore" class="markup--anchor markup--p-anchor" rel="nofollow"> generally ensure compiled outputs are in my <strong class="markup--strong markup--p-strong">.gitignore</strong></a>.</p><p name="d4ca" class="graf--p"><a id="d4ca"></a>As with Git, we should only publish the bits relevant to the npm Registry. In this case we will ignore the source code and deliberately publish the compiled ES5 code. To do it we run: <strong class="markup--strong markup--p-strong">npm publish</strong>.</p><p name="b71f" class="graf--p"><a id="b71f"></a>Publishing only ES5 source is not intuitive at first, but this way anyone targeting an ES5 runtime can use your ES6 authored module. (Which is everyone, for now.) Otherwise, we have to ask the module consumer to own the ES5 compilation. Chances are they already have a build step and chances are better they don&#x2019;t want to add <em class="markup--em markup--p-em">your</em> build step to their pipeline.</p><p name="3042" class="graf--p"><a id="3042"></a>Simply put, we can&#x2019;t assume everyone will assume the same things. <strong class="markup--strong markup--p-strong">The only realistic assumption is the target runtime will be ES5 compatible. </strong>This will change when ES6 modules roll out<em class="markup--em markup--p-em"> but that will take time</em>.</p><p name="08be" class="graf--p"><a id="08be"></a>A magical side effect of publishing your module to npm is that it will also be available on <a target="_blank" href="http://wzrd.in/" class="markup--anchor markup--p-anchor" rel="nofollow">http://wzrd.in/</a> which means you can include that module trivially. Browserify CDN exports your module using Browserify and lets you embed it anywhere.</p><p name="209e" class="graf--p"><a id="209e"></a><a target="_blank" href="http://codepen.io/brianleroux/pen/bNVNMy" class="markup--anchor markup--p-anchor" rel="nofollow">Here&#x2019;s an example with CodePen.</a> You could embed in JSFiddle or JSBin or anywhere really and just start require<em class="markup--em markup--p-em">-ing</em> (<em class="markup--em markup--p-em">or rather</em> import<em class="markup--em markup--p-em">-ing</em>) your modules. Even better, <a target="_blank" href="http://requirebin.com/" class="markup--anchor markup--p-anchor" rel="nofollow">RequireBin</a> will automatically add scripts you require. Fun stuff.</p><p name="6fd5" class="graf--p"><a id="6fd5"></a>If we&#x2019;re building things right then our applications are actually modules themselves. It is trivially easy to publish our web module using Github pages. A fun hack is to <a target="_blank" href="http://stephenplusplus.github.io/yeoman.io/deployment.html" class="markup--anchor markup--p-anchor" rel="nofollow">use git subtree to publish a compiled directory to your gh-pages branch</a>. (But watch out, using subtree means you have to check generated files into your source control which is not ideal.)</p><p name="bf0d" class="graf--p"><a id="bf0d"></a>Any code that runs in a vanilla web browser ES5 runtime also runs in Cordova based projects like PhoneGap. Install the PhoneGap Developer App for <a target="_blank" href="https://itunes.apple.com/app/id843536693" class="markup--anchor markup--p-anchor" rel="nofollow">iOS</a>, <a target="_blank" href="https://play.google.com/store/apps/details?id=com.adobe.phonegap.app" class="markup--anchor markup--p-anchor" rel="nofollow">Android</a>, and <a target="_blank" href="http://www.windowsphone.com/en-us/store/app/phonegap-developer/5c6a2d1e-4fad-4bf8-aaf7-71380cc84fe3" class="markup--anchor markup--p-anchor" rel="nofollow">Windows Phone</a> and see for yourself. <a target="_blank" href="http://app.phonegap.com" class="markup--anchor markup--p-anchor" rel="nofollow">It is super easy to get started.</a></p><p name="cba3" class="graf--p"><a id="cba3"></a>Consuming modules from other people is fun. Most of the Node surface can be Browserified and most authors now ensure their Node modules are compatible with both Node and browser runtimes. You can <a target="_blank" href="http://browserifysearch.org/" class="markup--anchor markup--p-anchor" rel="nofollow">search the registry</a> for further browser ready modules and publish your own.</p><p name="78c4" class="graf--p"><a id="78c4"></a>Of course this isn&#x2019;t a perfect landscape. There are problems and the solutions have tradeoffs.</p><p name="1430" class="graf--p"><a id="1430"></a>In ES modules the keyword <strong class="markup--strong markup--p-strong">default</strong> denotes a default thing to export. Authors of Node style modules love to export only single function. It is not the only way to do things but it is a very popular way. Unfortunately these concepts are not currently super compatible. <strong class="markup--strong markup--p-strong">Fortunately, 6to5 has a reasonable workaround which I anticipate will flow into the other transpilers. </strong>This gist demos the behavior:</p><figure name="5d15" class="graf--figure graf--iframe"><a id="5d15"></a></figure><p name="e00d" class="graf--p"><a id="e00d"></a>The side effect emerges in the Node environment because default export is transpiled out to the object literal key <strong class="markup--strong markup--p-strong">default</strong> meaning if we are consuming a module in ES5 authored code we have to explicitly <strong class="markup--strong markup--p-strong">var foo = require(&#x2018;foo&#x2019;).default</strong> &#x2026;and most agree <em class="markup--em markup--p-em">this doesn&#x2019;t smell very nice</em>. This also means other Node modules are harder to use and thus compose, disrupting the opportunity for reuse all the way down the stack.</p><p name="532f" class="graf--p"><a id="532f"></a>Some solutions this default key emergence problem:</p><ul class="postList"><li name="b653" class="graf--li"><a id="b653"></a>Ignore ES modules until they land in all runtimes and continue to write ES5 CJS module.exports and require syntax (boo! <em class="markup--em markup--li-em">hiss</em>! boring!)</li><li name="5205" class="graf--li"><a id="5205"></a>Wholesale <strong class="markup--strong markup--li-strong">import * as foo from &#x2018;foo&#x2019; </strong>and hope the foo package doesn&#x2019;t change its exports (works, and is probably safe, but feels yolo)</li><li name="3feb" class="graf--li"><a id="3feb"></a>Pretend that appending <strong class="markup--strong markup--li-strong">.default</strong> is harmless aesthetics &#x2026; <strong class="markup--strong markup--li-strong">&#xCA0;_&#xCA0;</strong></li><li name="58a9" class="graf--li"><a id="58a9"></a>Brutally clobber the problem by appending <strong class="markup--strong markup--li-strong">module.exports = module.default</strong> at the end of each module in your ES5 publishing build pipeline (thunderbolt viking style! also yolo)</li><li name="6079" class="graf--li"><a id="6079"></a>Use the <strong class="markup--strong markup--li-strong">6to5 </strong>compiler with the<em class="markup--em markup--li-em"> &#x2014;modules commonInterop</em> flag which does the expected thing: compile out a single function export to module.exports when there are no other named exports.</li></ul><p name="7e4f" class="graf--p"><a id="7e4f"></a>While we wait for an optimal native runtime env, workarounds are inbound for various compilers. <em class="markup--em markup--p-em">Compiling to ES5 is what ultimately happens anyhow. </em><strong class="markup--strong markup--p-strong">I personally find the 6to5 for publishing modules to npm the cleanest option, at the moment.</strong></p><p name="98f6" class="graf--p"><a id="98f6"></a>The UNIX philosophy lays down many interesting tenets. One of those tenets is <strong class="markup--strong markup--p-strong">do one thing and do it well</strong>. The idea manifests today as an avatar of small modules. Small modules compose better, are easier to reason about and test. It is now a classical concept but this timeless wisdom works well in any language and/or runtime.</p><blockquote name="7912" class="graf--blockquote"><a id="7912"></a>Sometimes there is dissent to the idea of small modules with the primary claim being that authoring small modules is somehow at odds with using a framework. Supporters of the concept of small modules digest this baffling negativity and regurgitate with a narrative that frameworks themselves force unnecessary bloat. <strong class="markup--strong markup--blockquote-strong">These concepts are not opposites but complementary; it is ridiculous nonsense to claim otherwise.</strong></blockquote><blockquote name="4f60" class="graf--blockquote"><a id="4f60"></a>Frameworks <strong class="markup--strong markup--blockquote-strong">are not</strong> at odds with modularity or discreet units of testable encapsulation, and indeed, <strong class="markup--strong markup--blockquote-strong">all</strong> the &#x201C;major&#x201D; JS frameworks themselves are composed of small modules. <strong class="markup--strong markup--blockquote-strong">Modules are a good idea.</strong></blockquote><blockquote name="8cdf" class="graf--blockquote"><a id="8cdf"></a>Frameworks <strong class="markup--strong markup--blockquote-strong">are not</strong> evil bastions of bloated lock in. Frameworks curate concepts to create a system symmetry that can enable developers with huge productivity boosts avoiding boilerplate. <strong class="markup--strong markup--blockquote-strong">Frameworks are a good idea.</strong></blockquote><blockquote name="8567" class="graf--blockquote"><a id="8567"></a><strong class="markup--strong markup--blockquote-strong">Frameworks and Small Modules currently coexist and are not mutually exclusive.</strong> Polarized debate about these ideas is a waste of time.</blockquote><p name="250e" class="graf--p"><a id="250e"></a><strong class="markup--strong markup--p-strong">But! AMD! </strong>Browserify supports exporting to AMD. There&#x2019;s tonnes of tools for this and safely classifiable as a deployment concern.</p><figure name="2331" class="graf--figure postField--insetLeftImage"><a id="2331"></a><div class="aspectRatioPlaceholder is-locked"><img class="graf-image" src="https://d262ilb51hltx0.cloudfront.net/max/600/1*2wKxAgJ9nlXXbrXXpr0OLA.gif"></div><figcaption class="imageCaption">document.write is a blocking call: save a deer! don&#x2019;t do it!</figcaption></figure><p name="627c" class="graf--p"><a id="627c"></a><strong class="markup--strong markup--p-strong">But! Dynamic modules!</strong></p><p name="dcc4" class="graf--p"><a id="dcc4"></a>You can use any of these same tools to generate a standalone build and dynamically load it however you want.</p><p name="cb95" class="graf--p"><a id="cb95"></a>However, I should warn you, if you <strong class="markup--strong markup--p-strong">document.write</strong> a script tag <a target="_blank" href="http://www.stevesouders.com/blog/2012/04/10/dont-docwrite-scripts/" class="markup--anchor markup--p-anchor" rel="nofollow">Steve Souders</a> strangles this holiday deer with his bare hands.</p><p name="4b68" class="graf--p"><a id="4b68"></a>I really like the output from 6to5. Google built Traceur, it works well, and is supported in CodePen which is fun. There&#x2019;s a bunch of these things out there. (Which is great.) Choose whichever compiler path makes sense to you.</p><p name="8ae5" class="graf--p"><a id="8ae5"></a>Just make sure:</p><ul class="postList"><li name="e767" class="graf--li"><a id="e767"></a>You are aware of the default key emergence problem in ES5 CJS runtimes</li><li name="b248" class="graf--li"><a id="b248"></a>You publish to npm as ES5 source so everyone can benefit from your hard work</li></ul><p name="1158" class="graf--p"><a id="1158"></a>There are numerous module-loader-compiler things too. <a target="_blank" href="http://webpack.github.io/" class="markup--anchor markup--p-anchor" rel="nofollow">Webpack</a>, <a target="_blank" href="http://spotify.github.io/quickstart/" class="markup--anchor markup--p-anchor" rel="nofollow">Spotify Quickstart</a> and <a target="_blank" href="https://github.com/systemjs/systemjs" class="markup--anchor markup--p-anchor" rel="nofollow">SystemJS</a> are interesting alternatives to Browserify.</p><p name="b532" class="graf--p"><a id="b532"></a>You can author, test, consume and deploy modules in the formats that make sense to you. I currently recommend publishing to npm as ES5 for maximal reuse. In this way, a project can then be authored in <em class="markup--em markup--p-em">TypeScript</em>, can consume <em class="markup--em markup--p-em">CoffeeScript</em> and <em class="markup--em markup--p-em">JS </em>modules, and deployed to the web as ES5 AMD. That code can be shared between browser, server and the phone in your pocket. Whatever makes sense for your project needs.</p><p name="bc88" class="graf--p"><a id="bc88"></a>Think about that for a moment. <strong class="markup--strong markup--p-strong">Author in any language, use whatever transport makes sense and enjoy runtime agnostic code. </strong>This is the future of web development. That diversity is going to have wonderful side effects we can&#x2019;t begin to anticipate and I personally find that strangeness very exciting and beautiful. <em class="markup--em markup--p-em">Just like the web itself.</em></p><p name="8044" class="graf--p"><a id="8044"></a>Go forth, write some modules and please share them with the rest of us. &#x2764;</p><pre name="42e7" class="graf--pre graf--empty"><a id="42e7"></a><br></pre><p name="da8d" class="graf--p"><a id="da8d"></a><strong class="markup--strong markup--p-strong">If you enjoyed this article for my next installment I&#x2019;ll examine writing modular CSS.</strong> Consider subscribing if that situation is of interest to you.</p><p name="ba20" class="graf--p graf--last"><a id="ba20"></a><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">Very special thanks to reviewers:</em></strong><em class="markup--em markup--p-em"> @substack, @filmaj, </em><a target="_blank" href="https://twitter.com/rob_ellis" class="markup--anchor markup--p-anchor" rel="nofollow"><em class="markup--em markup--p-em">@rob_ellis</em></a><em class="markup--em markup--p-em">, </em><a target="_blank" href="http://twitter.com/sintaxi" class="markup--anchor markup--p-anchor" rel="nofollow"><em class="markup--em markup--p-em">@sintaxi</em></a><em class="markup--em markup--p-em">, </em><a target="_blank" href="http://twitter.com/izs" class="markup--anchor markup--p-anchor" rel="nofollow"><em class="markup--em markup--p-em">@izs</em></a><em class="markup--em markup--p-em">, @</em><a target="_blank" href="http://twitter.com/seldo" class="markup--anchor markup--p-anchor" rel="nofollow"><em class="markup--em markup--p-em">seldo,</em></a><em class="markup--em markup--p-em"> @</em><a target="_blank" href="http://twitter.com/rem" class="markup--anchor markup--p-anchor" rel="nofollow"><em class="markup--em markup--p-em">rem,</em></a><em class="markup--em markup--p-em"> </em><a target="_blank" href="https://twitter.com/getify" class="markup--anchor markup--p-anchor" rel="nofollow"><em class="markup--em markup--p-em">@getify,</em></a><em class="markup--em markup--p-em"> </em><a target="_blank" href="http://twitter.com/jrburke" class="markup--anchor markup--p-anchor" rel="nofollow"><em class="markup--em markup--p-em">@jrburke,</em></a><em class="markup--em markup--p-em"> </em><a target="_blank" href="http://twitter.com/SlexAxton" class="markup--anchor markup--p-anchor" rel="nofollow">@slexaxton</a><em class="markup--em markup--p-em">, </em><a target="_blank" href="https://twitter.com/kriskowal" class="markup--anchor markup--p-anchor" rel="nofollow"><em class="markup--em markup--p-em">@kriskowal,</em></a><em class="markup--em markup--p-em"> </em><a target="_blank" href="http://twitter.com/guybedford" class="markup--anchor markup--p-anchor" rel="nofollow"><em class="markup--em markup--p-em">@guybedford,</em></a><em class="markup--em markup--p-em"> </em><a target="_blank" href="http://twitter.com/trek" class="markup--anchor markup--p-anchor" rel="nofollow"><em class="markup--em markup--p-em">@trek</em></a><em class="markup--em markup--p-em"> and </em><a target="_blank" href="http://twitter.com/dam" class="markup--anchor markup--p-anchor" rel="nofollow"><em class="markup--em markup--p-em">@dam</em></a><em class="markup--em markup--p-em"> &#x2026;this was a monster read and their feedback made this article WAY better. </em><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">Consider giving these ppl a follow if you don&#x2019;t already!</em></strong></p></div></div><hr/><section id="articleList" style="font-size: 14px;"><b>Articles in This Issue</b><ul><li><a href="./Meta Programming with ECMAScript 6 Proxies.html">Meta Programming with ECMAScript 6 Proxies</a></li><li><a href="./AngularJS Performance in Large Applications.html">AngularJS Performance in Large Applications</a></li><li><a href="./What Is The Flux Application Architecture?.html">What Is The Flux Application Architecture?</a></li><li><a href="./An easier way to deploy &amp; host your Rails app – for free..html">An easier way to deploy &amp; host your Rails app – for free.</a></li><li><a href="./<img src="http:--s3.amazonaws.com-nlga-uploads-item-image-24793-i.png" style="border: 0px solid #bbbbbb" width="" height="" alt="Ninefold">.html"><img src="http://s3.amazonaws.com/nlga/uploads/item/image/24793/i.png" style="border: 0px solid #bbbbbb" width="" height="" alt="Ninefold"></a></li><li><a href="./16 Steps for Planning A Front-End JavaScript Application.html">16 Steps for Planning A Front-End JavaScript Application</a></li><li><a href="./Node.js Is Forked, Not F***ed.html">Node.js Is Forked, Not F***ed</a></li><li><a href="./Programmer Extraordinaire..html">Programmer Extraordinaire.</a></li><li><a href="./JavaScript Developers, AngularJS-Node.js (Berlin).html">JavaScript Developers, AngularJS/Node.js (Berlin)</a></li><li><a href="./President Obama Writes His First Line of JavaScript.html">President Obama Writes His First Line of JavaScript</a></li><li><a href="./ES6 Template Strings Working in Chrome.html">ES6 Template Strings Working in Chrome</a></li><li><a href="./Ember.js 1.9.0 and 1.10 Beta Released.html">Ember.js 1.9.0 and 1.10 Beta Released</a></li><li><a href="./'JavaScript for Kids' Book Released.html">'JavaScript for Kids' Book Released</a></li><li><a href="./Making A Complete Polyfill For The HTML5 'details' Element.html">Making A Complete Polyfill For The HTML5 'details' Element</a></li><li><a href="./Techniques for Building Web Apps using Future Friendly ES6 Module Syntax.html">Techniques for Building Web Apps using Future Friendly ES6 Module Syntax</a></li><li><a href="./Effective Event Binding with jQuery.html">Effective Event Binding with jQuery</a></li><li><a href="./Five Traits of Well-Organized JavaScript.html">Five Traits of Well-Organized JavaScript</a></li><li><a href="./Porting An Entire Desktop Toolchain to The Browser with Emscripten.html">Porting An Entire Desktop Toolchain to The Browser with Emscripten</a></li><li><a href="./The State of Desktop Applications in Node.js.html">The State of Desktop Applications in Node.js</a></li><li><a href="./thaw.js: Synthetic Asynchronous Processing.html">thaw.js: Synthetic Asynchronous Processing</a></li><li><a href="./FiltrES.js: A Simple, Safe, ElasticSearch Query Compiler.html">FiltrES.js: A Simple, Safe, ElasticSearch Query Compiler</a></li><li><a href="./Angular 2.0 Hello World Example.html">Angular 2.0 Hello World Example</a></li><li><a href="./Purplecoat.js: Simple Labeled Overlays (jQuery Plugin).html">Purplecoat.js: Simple Labeled Overlays (jQuery Plugin)</a></li><li><a href="./dstore: A Client-Side Data Management Framework with Multiple Store Types.html">dstore: A Client-Side Data Management Framework with Multiple Store Types</a></li><li><a href="./bigpicture.js: A Library for Prezi-esque Infinite Panning and Infinite Zooming.html">bigpicture.js: A Library for Prezi-esque Infinite Panning and Infinite Zooming</a></li><li><a href="./decimal.js: An Arbitrary-Precision Decimal Type for JavaScript.html">decimal.js: An Arbitrary-Precision Decimal Type for JavaScript</a></li></ul></section></div>