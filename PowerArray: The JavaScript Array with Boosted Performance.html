<!doctype html><div style="max-width: 700px;font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;padding: 50px;line-height: 1.25;"><meta charset="UTF8"/><title>PowerArray: The JavaScript Array with Boosted Performance</title><h1>PowerArray: The JavaScript Array with Boosted Performance</h1><p><a href="http://techfort.github.io/PowerArray/?">Original Article</a> &middot; <a href="#articleList">Articles in this issue</a> </p><div><section id="main_content">
        

<p>Turns out that you can re-write some of the methods of Array to obtain a much better performance than the native methods.
In particular, Array.forEach seems to perform pretty badly.</p>

<blockquote>
<p>Note: the overridden methods of PowerArray break compliance, the focus is on performance so take a look at the caveat section below.</p>
</blockquote>

<p>It looks as if a for loop with cached length is the fastest way of iterating.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> i, len <span class="pl-k">=</span> array.<span class="pl-sc">length</span>;
<span class="pl-k">for</span> (i <span class="pl-k">=</span> <span class="pl-c1">0</span>; i <span class="pl-k">&lt;</span> len; i <span class="pl-k">+=</span> <span class="pl-c1">1</span>) {
  someFun(array[i]);
}</pre></div>

<p>So I rewrote the Array class as PowerArray and implemented the above mechanism in PowerArray.forEach with surprising results.</p>

<p>The results are as follows:
PowerArray.forEach is averagely 5 times faster than native Array.</p>

<p>This is only a proof of concept.</p>

<p>Install with <code>npm install powerarray</code></p>

<h2>
<a id="proposed-usage" class="anchor" href="http://techfort.github.io/PowerArray/#proposed-usage"></a>Proposed Usage</h2>

<p>Particularly useful for arrays that need processing on all elements often, or for numeric arrays utilized as indexes for Collections of data.</p>

<h2>
<a id="methods" class="anchor" href="http://techfort.github.io/PowerArray/#methods"></a>Methods</h2>

<p>All Array native methods are available through PowerArray. The following methods are either extending or overriding the native Array class.</p>

<p><code>PowerArray.forEach</code>: utilizes a for loop for iteration, takes a callback which receives an element and the index of that element.</p>

<p><code>PowerArray.map</code>: utilizes a for loop to return a PowerArray of mapped values, takes a callback processing function argument.</p>

<p><code>PowerArray.binarySearch</code>: performs a binary search on the elements of the array, only relevant if the array only consists of numbers. Thanks to <a href="http://oli.me.uk/2013/06/08/searching-javascript-arrays-with-a-binary-search/">Oliver Caldwell's post</a> for a quick version of the algorithm. Also note the contribution of Yehonatan and other authors of comments to the post which helped to optimise the implementation of binary search further. </p>

<p><code>PowerArray.numericSort</code>: sorts array (if array only contains integers), useful for utilizing <code>binarySearch</code>. Optional sorting function argument.</p>

<p><code>PowerArray.addhAndSort</code>: adds a new value and sorts the array automatically</p>

<h2>
<a id="contribution" class="anchor" href="http://techfort.github.io/PowerArray/#contribution"></a>Contribution</h2>

<p>Pull requests are more than welcome, just make sure to add a test in tests/test.js (and that it passes it obviously).</p>

<h2>
<a id="caveats" class="anchor" href="http://techfort.github.io/PowerArray/#caveats"></a>Caveats</h2>

<p>Thanks to <a href="https://github.com/DavidSouther">David Souther</a> for documenting these:</p>

<ol>
<li>No this context in fn calls, handle your own binding.</li>
<li>No determination if i is a member of PowerArray (eg for sparse arrays, [2, 4, , 6])</li>
<li>No exception is thrown when the callback isn't callable.</li>
</ol>

<p>There may be more, please feel free to flag those or include them yourself through a pull request.</p>
      </section>
    </div><hr/><section id="articleList" style="font-size: 14px;"><b>Articles in This Issue</b><ul><li><a href="./Understanding ECMAScript 6.html">Understanding ECMAScript 6</a></li><li><a href="./Getting Started with React and JSX.html">Getting Started with React and JSX</a></li><li><a href="./Regulex：A JavaScript Regular Expression Visualizer.html">Regulex：A JavaScript Regular Expression Visualizer</a></li><li><a href="./What's in a Function Name?.html">What's in a Function Name?</a></li><li><a href="./The Difference Between Java and JavaScript (in comic book form).html">The Difference Between Java and JavaScript (in comic book form)</a></li><li><a href="./PowerArray: The JavaScript Array with Boosted Performance.html">PowerArray: The JavaScript Array with Boosted Performance</a></li><li><a href="./Frontend Javascript-Angular developer at Contentful (Berlin, Germany).html">Frontend Javascript/Angular developer at Contentful (Berlin, Germany)</a></li><li><a href="./JavaScript Devs in High Demand (SF, LA, NY, ORD, BOS).html">JavaScript Devs in High Demand (SF, LA, NY, ORD, BOS)</a></li><li><a href="./Yahoo Mail Moving to Node and React + Flux (slide-deck).html">Yahoo Mail Moving to Node and React + Flux (slide-deck)</a></li><li><a href="./ShirtJS: JavaScript Framework Themed Clothing.html">ShirtJS: JavaScript Framework Themed Clothing</a></li><li><a href="./This Dashcam Simulation Is Just 1K Of JavaScript Magic.html">This Dashcam Simulation Is Just 1K Of JavaScript Magic</a></li><li><a href="./A Beginner's Guide to Grunt: Redux.html">A Beginner's Guide to Grunt: Redux</a></li><li><a href="./An Overview of Functional Techniques (for non FPers) using JavaScript.html">An Overview of Functional Techniques (for non FPers) using JavaScript</a></li><li><a href="./A Faster Start with Backbone.js.html">A Faster Start with Backbone.js</a></li><li><a href="./Tracking Pageviews with Google Analytics and Angular.html">Tracking Pageviews with Google Analytics and Angular</a></li><li><a href="./Understanding JavaScript Generators.html">Understanding JavaScript Generators</a></li><li><a href="./Ten Talks from NodeConf One-Shot Budapest.html">Ten Talks from NodeConf One-Shot Budapest</a></li><li><a href="./Build Production Ready JavaScript Apps With Grunt.html">Build Production Ready JavaScript Apps With Grunt</a></li><li><a href="./Adopting AngularJS for Enterprise Software.html">Adopting AngularJS for Enterprise Software</a></li><li><a href="./The Road to Ember 2.0 with Tom Dale and Yehuda Katz.html">The Road to Ember 2.0 with Tom Dale and Yehuda Katz</a></li><li><a href="./Resources for JavaScript and DOM Compatibility Tables.html">Resources for JavaScript and DOM Compatibility Tables</a></li><li><a href="./Node.js Tools for Visual Studio 1.0 Release Candidate.html">Node.js Tools for Visual Studio 1.0 Release Candidate</a></li><li><a href="./Handsontable: JavaScript Excel-like Data Grid Editor.html">Handsontable: JavaScript Excel-like Data Grid Editor</a></li><li><a href="./SVG Morpheus: JS Library for Morphing Between SVG Icons.html">SVG Morpheus: JS Library for Morphing Between SVG Icons</a></li><li><a href="./Tubemaps: Browser and Node Library and Command-Line Tool for Handling (London) Tube Data.html">Tubemaps: Browser and Node Library and Command-Line Tool for Handling (London) Tube Data</a></li><li><a href="./SmartUnderline: Better Looking Underlines on the Web.html">SmartUnderline: Better Looking Underlines on the Web</a></li><li><a href="./QuaggaJS: An Advanced Barcode-Reader Written in JavaScript.html">QuaggaJS: An Advanced Barcode-Reader Written in JavaScript</a></li><li><a href="./Jss: Dynamic Stylesheets for Web Components.html">Jss: Dynamic Stylesheets for Web Components</a></li></ul></section></div>