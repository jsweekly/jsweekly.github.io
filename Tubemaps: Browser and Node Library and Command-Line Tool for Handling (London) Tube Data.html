<!doctype html><div style="max-width: 700px;font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;padding: 50px;line-height: 1.25;background: #f9f9f9;"><meta charset="UTF8"/><title>Tubemaps: Browser and Node Library and Command-Line Tool for Handling (London) Tube Data</title><h1>Tubemaps: Browser and Node Library and Command-Line Tool for Handling (London) Tube Data</h1><p><a href="https://github.com/nicola/tubemaps?">Original Article</a> &middot; <a href="#articleList">Articles in this issue</a> </p><div><article class="markdown-body entry-content">

<p>Given a dataset, get all the tube/stations relations done!</p>

<p><a href="https://raw.githubusercontent.com/nicola/tubemaps/master/thumbnail.png" target="_blank"><img src="https://raw.githubusercontent.com/nicola/tubemaps/master/thumbnail.png" alt="London tubemap"></a></p>

<h2>
<a id="user-content-install" class="anchor" href="https://github.com/nicola/tubemaps#install"></a>Install</h2>

<div class="highlight highlight-bash"><pre>$ npm install --save tubemaps</pre></div>

<p>For command-line use:</p>

<div class="highlight highlight-bash"><pre>$ npm install --g tubemaps</pre></div>

<p>Soon on <strong>bower</strong>.</p>

<h2>
<a id="user-content-command-line-tool" class="anchor" href="https://github.com/nicola/tubemaps#command-line-tool"></a>Command line tool</h2>

<div class="highlight highlight-sh"><pre>$ tubemaps path  --from <span class="pl-s1"><span class="pl-pds">"</span>Euston<span class="pl-pds">"</span></span> --to <span class="pl-s1"><span class="pl-pds">"</span>Hammersmith<span class="pl-pds">"</span></span>
<span class="pl-c"># Piccadilly Line: Hammersmith to Barons Court</span>
<span class="pl-c"># Piccadilly Line: Barons Court to Earl's Court</span>
<span class="pl-c"># Piccadilly Line: Earl's Court to Gloucester Road</span>
<span class="pl-c"># Piccadilly Line: Gloucester Road to South Kensington</span>
<span class="pl-c"># Piccadilly Line: South Kensington to Knightsbridge</span>
<span class="pl-c"># Piccadilly Line: Knightsbridge to Hyde Park Corner</span>
<span class="pl-c"># Piccadilly Line: Hyde Park Corner to Green Park</span>
<span class="pl-c"># Victoria Line: Green Park to Oxford Circus</span>
<span class="pl-c"># Victoria Line: Oxford Circus to Warren Street</span>
<span class="pl-c"># Victoria Line: Warren Street to Euston</span>

$ tubemaps station <span class="pl-s1"><span class="pl-pds">"</span>Euston<span class="pl-pds">"</span></span> --london                    
<span class="pl-c"># Northern Line: Camden Town</span>
<span class="pl-c"># Victoria Line: King's Cross St. Pancras</span>
<span class="pl-c"># Northern Line: Mornington Crescent</span>
<span class="pl-c"># Victoria Line: Warren Street</span>
<span class="pl-c"># Victoria Line: King's Cross St. Pancras</span>
<span class="pl-c"># Victoria Line: Warren Street</span></pre></div>

<h2>
<a id="user-content-nodejs-library" class="anchor" href="https://github.com/nicola/tubemaps#nodejs-library"></a>NodeJS Library</h2>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> TubeMap <span class="pl-k">=</span> <span class="pl-s3">require</span>(<span class="pl-s1"><span class="pl-pds">'</span>tubemaps<span class="pl-pds">'</span></span>).TubeMap;
<span class="pl-s">var</span> london <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">TubeMap</span>({
  stations<span class="pl-k">:</span> csv.stations,
  lines<span class="pl-k">:</span> csv.lines,
  connections<span class="pl-k">:</span> csv.connections
});

<span class="pl-c">// Find information about a station</span>
<span class="pl-s">var</span> victoriaStation <span class="pl-k">=</span> london.getStationByName(<span class="pl-s1"><span class="pl-pds">'</span>Victoria<span class="pl-pds">'</span></span>);
<span class="pl-c">// {conns:[{display_name: "Euston"}, ...], ..}</span>

<span class="pl-c">// Find information a line</span>
<span class="pl-s">var</span> victoriaLine <span class="pl-k">=</span> london.getLineByName(<span class="pl-s1"><span class="pl-pds">'</span>Victoria Line<span class="pl-pds">'</span></span>);
<span class="pl-c">// [station1, station2,..]</span>

<span class="pl-c">// Find all connections in a line</span>
<span class="pl-s">var</span> conns <span class="pl-k">=</span> london.line(victoriaLine)
<span class="pl-c">// [{station1: #euston, station2: #warrentStreet}]</span>

<span class="pl-c">// Find path between two stations</span>
<span class="pl-s">var</span> conns <span class="pl-k">=</span> london.path(euston, victoria)
<span class="pl-c">// [{station1: #euston, station2: #warrentStreet, line: #victoriaLine}]</span>

<span class="pl-c">// Find path between two stations in a line</span>
<span class="pl-s">var</span> conns <span class="pl-k">=</span> london.path(euston, victoria, line)
<span class="pl-c">// [{station1: #euston, station2: #warrentStreet, line: #victoriaLine}]</span></pre></div>

<h2>
<a id="user-content-existing-datasets" class="anchor" href="https://github.com/nicola/tubemaps#existing-datasets"></a>Existing datasets</h2>

<h4>
<a id="user-content-london" class="anchor" href="https://github.com/nicola/tubemaps#london"></a>London</h4>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> Maps <span class="pl-k">=</span> <span class="pl-s3">require</span>(<span class="pl-s1"><span class="pl-pds">'</span>tubemaps/maps<span class="pl-pds">'</span></span>);

Maps(<span class="pl-s1"><span class="pl-pds">"</span>london<span class="pl-pds">"</span></span>, <span class="pl-st">function</span>(<span class="pl-vpf">err</span>, <span class="pl-vpf">tube</span>) {
  <span class="pl-s">var</span> euston <span class="pl-k">=</span> tube.getStationByName(<span class="pl-s1"><span class="pl-pds">"</span>Euston<span class="pl-pds">"</span></span>);
  <span class="pl-s">var</span> victoria <span class="pl-k">=</span> tube.getStationByName(<span class="pl-s1"><span class="pl-pds">"</span>Victoria<span class="pl-pds">"</span></span>);
  <span class="pl-en">console</span><span class="pl-s3">.log</span>(tube.path(euston, victoria))
})</pre></div>

<h4>
<a id="user-content-use-yours" class="anchor" href="https://github.com/nicola/tubemaps#use-yours"></a>Use yours</h4>

<p>Look at our datasets and make it identical but with your data</p>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> TubeMap <span class="pl-k">=</span> <span class="pl-s3">require</span>(<span class="pl-s1"><span class="pl-pds">'</span>tubemaps<span class="pl-pds">'</span></span>).TubeMap;
<span class="pl-s">var</span> readCSVs <span class="pl-k">=</span> <span class="pl-s3">require</span>(<span class="pl-s1"><span class="pl-pds">'</span>tubemaps<span class="pl-pds">'</span></span>).readCSVs;

<span class="pl-s">var</span> files <span class="pl-k">=</span> {
  connections<span class="pl-k">:</span> <span class="pl-sv">__dirname</span> <span class="pl-k">+</span> <span class="pl-s1"><span class="pl-pds">'</span>/../datasets/london.connections.csv<span class="pl-pds">'</span></span>,
  lines<span class="pl-k">:</span> <span class="pl-sv">__dirname</span> <span class="pl-k">+</span> <span class="pl-s1"><span class="pl-pds">'</span>/../datasets/london.lines.csv<span class="pl-pds">'</span></span>,
  stations<span class="pl-k">:</span> <span class="pl-sv">__dirname</span> <span class="pl-k">+</span> <span class="pl-s1"><span class="pl-pds">'</span>/../datasets/london.stations.csv<span class="pl-pds">'</span></span>
};

readCSVs(files, <span class="pl-st">function</span>(<span class="pl-vpf">err</span>, <span class="pl-vpf">csvs</span>) {

  <span class="pl-s">var</span> tubemap <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">TubeMap</span>({
    connections<span class="pl-k">:</span> csvs[<span class="pl-c1">0</span>],
    lines<span class="pl-k">:</span> csvs[<span class="pl-c1">1</span>],
    stations<span class="pl-k">:</span> csvs[<span class="pl-c1">2</span>]
  });

  <span class="pl-s">var</span> victoriaLine <span class="pl-k">=</span> tubemap.getLineByName(<span class="pl-s1"><span class="pl-pds">"</span>Victoria Line<span class="pl-pds">"</span></span>);
  <span class="pl-en">console</span><span class="pl-s3">.log</span>(tubemap.line(victoriaLine.line));

});</pre></div>

<h2>
<a id="user-content-want-to-contribute-or-add-dataset" class="anchor" href="https://github.com/nicola/tubemaps#want-to-contribute-or-add-dataset"></a>Want to contribute or add dataset?</h2>

<ul class="task-list">
<li>Ping me on twitter @nicolagreco, or a PR here.</li>
</ul>
</article>
  </div><hr/><section id="articleList" style="font-size: 14px;"><b>Articles in This Issue</b><ul><li><a href="./Understanding ECMAScript 6.html">Understanding ECMAScript 6</a></li><li><a href="./Getting Started with React and JSX.html">Getting Started with React and JSX</a></li><li><a href="./Regulex：A JavaScript Regular Expression Visualizer.html">Regulex：A JavaScript Regular Expression Visualizer</a></li><li><a href="./What's in a Function Name?.html">What's in a Function Name?</a></li><li><a href="./The Difference Between Java and JavaScript (in comic book form).html">The Difference Between Java and JavaScript (in comic book form)</a></li><li><a href="./PowerArray: The JavaScript Array with Boosted Performance.html">PowerArray: The JavaScript Array with Boosted Performance</a></li><li><a href="./Frontend Javascript-Angular developer at Contentful (Berlin, Germany).html">Frontend Javascript/Angular developer at Contentful (Berlin, Germany)</a></li><li><a href="./JavaScript Devs in High Demand (SF, LA, NY, ORD, BOS).html">JavaScript Devs in High Demand (SF, LA, NY, ORD, BOS)</a></li><li><a href="./Yahoo Mail Moving to Node and React + Flux (slide-deck).html">Yahoo Mail Moving to Node and React + Flux (slide-deck)</a></li><li><a href="./ShirtJS: JavaScript Framework Themed Clothing.html">ShirtJS: JavaScript Framework Themed Clothing</a></li><li><a href="./This Dashcam Simulation Is Just 1K Of JavaScript Magic.html">This Dashcam Simulation Is Just 1K Of JavaScript Magic</a></li><li><a href="./A Beginner's Guide to Grunt: Redux.html">A Beginner's Guide to Grunt: Redux</a></li><li><a href="./An Overview of Functional Techniques (for non FPers) using JavaScript.html">An Overview of Functional Techniques (for non FPers) using JavaScript</a></li><li><a href="./A Faster Start with Backbone.js.html">A Faster Start with Backbone.js</a></li><li><a href="./Tracking Pageviews with Google Analytics and Angular.html">Tracking Pageviews with Google Analytics and Angular</a></li><li><a href="./Understanding JavaScript Generators.html">Understanding JavaScript Generators</a></li><li><a href="./Ten Talks from NodeConf One-Shot Budapest.html">Ten Talks from NodeConf One-Shot Budapest</a></li><li><a href="./Build Production Ready JavaScript Apps With Grunt.html">Build Production Ready JavaScript Apps With Grunt</a></li><li><a href="./Adopting AngularJS for Enterprise Software.html">Adopting AngularJS for Enterprise Software</a></li><li><a href="./The Road to Ember 2.0 with Tom Dale and Yehuda Katz.html">The Road to Ember 2.0 with Tom Dale and Yehuda Katz</a></li><li><a href="./Resources for JavaScript and DOM Compatibility Tables.html">Resources for JavaScript and DOM Compatibility Tables</a></li><li><a href="./Node.js Tools for Visual Studio 1.0 Release Candidate.html">Node.js Tools for Visual Studio 1.0 Release Candidate</a></li><li><a href="./Handsontable: JavaScript Excel-like Data Grid Editor.html">Handsontable: JavaScript Excel-like Data Grid Editor</a></li><li><a href="./SVG Morpheus: JS Library for Morphing Between SVG Icons.html">SVG Morpheus: JS Library for Morphing Between SVG Icons</a></li><li><a href="./Tubemaps: Browser and Node Library and Command-Line Tool for Handling (London) Tube Data.html">Tubemaps: Browser and Node Library and Command-Line Tool for Handling (London) Tube Data</a></li><li><a href="./SmartUnderline: Better Looking Underlines on the Web.html">SmartUnderline: Better Looking Underlines on the Web</a></li><li><a href="./QuaggaJS: An Advanced Barcode-Reader Written in JavaScript.html">QuaggaJS: An Advanced Barcode-Reader Written in JavaScript</a></li><li><a href="./Jss: Dynamic Stylesheets for Web Components.html">Jss: Dynamic Stylesheets for Web Components</a></li></ul></section></div>